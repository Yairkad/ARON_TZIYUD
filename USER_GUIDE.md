# 📚 מדריך משתמש - מערכת ארון ציוד ידידים

## 🎯 על המערכת

**מערכת ארון ציוד ידידים** היא מערכת דיגיטלית מתקדמת לניהול השאלות והחזרות ציוד בין ערים שונות. המערכת מאפשרת מעקב מלא אחר כל פריט ציוד, ניהול מלאי בזמן אמת, ותיעוד מלא של כל תנועת ציוד.

---

## 👥 סוגי משתמשים במערכת

### 1️⃣ משתמש רגיל
משתמש שרוצה לשאול או להחזיר ציוד

### 2️⃣ מנהל עיר
אחראי על ניהול הציוד בעיר ספציפית

### 3️⃣ מנהל ראשי (Super Admin)
אחראי על כל המערכת - ניהול כל הערים והגדרות מערכת

---

## 🏠 דף הבית - בחירת עיר

### מה אפשר לעשות?

#### 📍 בחירת עיר
- רשימת כל הערים הפעילות במערכת
- לכל עיר מוצגים:
  - שם העיר
  - שמות מנהלי העיר (עד 2 מנהלים)
  - כפתורי יצירת קשר (טלפון ו-WhatsApp)
  - קישור למיקום הארון במפה (Google Maps)

#### 🔍 חיפוש עיר
- סרגל חיפוש בראש הדף
- חיפוש לפי:
  - שם העיר
  - שם מנהל ראשון
  - שם מנהל שני
- הצגת מספר התוצאות שנמצאו
- כפתור לניקוי החיפוש

#### 📞 יצירת קשר עם מנהלי העיר
**כפתור WhatsApp (ירוק):**
- לחיצה על הכפתור פותחת שיחת WhatsApp עם המנהל
- המספר מתעדכן אוטומטית לפורמט בינלאומי

**כפתור טלפון (כחול):**
- לחיצה על הכפתור מתקשרת ישירות למנהל
- עובד בטלפון נייד ובמחשב (עם אפליקציית שיחות)

#### 📍 צפייה במיקום הארון
- לחיצה על "מיקום הארון במפה" פותחת את Google Maps
- ניתן לראות את המיקום המדויק של הארון
- אפשר לקבל הוראות ניווט

#### 💡 טיפ חשוב
למטה בדף מופיע הודעה:
**"על מנת לבצע השאלה יש לבצע תיאום מול מנהלי היחידה"**

---

## 🎒 ממשק משתמש - השאלה והחזרת ציוד

### כניסה לממשק העיר
לחיצה על כפתור **"כניסה למערכת"** בכרטיס העיר

### 🔄 שני טאבים ראשיים:

---

## 📦 טאב השאלת ציוד

### שלבי השאלה:

#### 1️⃣ מילוי פרטים אישיים
- **שם מלא** (חובה)
- **מספר טלפון** (חובה, 10 ספרות)
  - הטלפון משמש למעקב אחר ההשאלות
  - נדרש להחזרת הציוד

#### 2️⃣ בחירת ציוד
- סרגל חיפוש חכם
- הקלדת חלק משם הציוד מציגה רשימת אפשרויות
- לכל פריט מוצג:
  - שם הפריט
  - כמות זמינה במלאי
- רק פריטים זמינים (כמות > 0) ניתנים להשאלה

#### 3️⃣ אישור ההשאלה
- לחיצה על **"השאל ציוד עכשיו"**
- המערכת:
  - רושמת את ההשאלה
  - מעדכנת את המלאי אוטומטית
  - שומרת את התאריך והשעה
  - מציגה הודעת אישור

#### ⚠️ שים לב:
- אם אין ציוד זמין, הכפתור יהיה כבוי
- לא ניתן לשאול יותר מפריט אחד בכל פעולה
- הטלפון נשמר למעקב והחזרות

---

## 🔁 טאב החזרת ציוד

### שלבי החזרה:

#### 1️⃣ זיהוי השואל
- הזנת מספר הטלפון (אותו מספר מההשאלה)
- לחיצה על כפתור **"🔍 חפש"**

#### 2️⃣ צפייה בציוד מושאל
המערכת תציג רשימה של כל הציוד שטרם הוחזר:
- שם הציוד
- תאריך ההשאלה
- כפתור **"✅ החזר"** לכל פריט

#### 3️⃣ ביצוע ההחזרה
- לחיצה על **"✅ החזר"**
- המערכת:
  - רושמת את תאריך ההחזרה
  - מעדכנת את סטטוס ההשאלה ל"הוחזר"
  - מחזירה את הפריט למלאי (+1)
  - מציגה הודעת אישור

#### 📭 אם אין השאלות פעילות
המערכת תציג:
**"לא נמצא ציוד השאלה פעיל עבור מספר טלפון זה"**

---

## 📊 תצוגת מלאי הציוד

בתחתית כל דף עיר מוצג:

### 📈 רשת כרטיסי המלאי
- כל פריט ציוד בכרטיס נפרד
- **ציוד זמין (ירוק):** ✅ + שם הציוד
- **ציוד לא זמין (אפור):** ❌ + "חסר זמנית"
- עדכון בזמן אמת אחרי כל השאלה/החזרה

---

## 🛡️ ממשק מנהל עיר

### 🔐 כניסה למערכת הניהול

#### דרכי כניסה:
1. לחיצה על אייקון 🔐 בפינת השמאלית העליונה
2. במובייל: כפתור "🔐 כניסת מנהל" מתחת לכותרת

#### תהליך התחברות:
- הזנת סיסמת מנהל
- לחיצה על **"✅ כניסה למערכת"**
- אם הסיסמה שגויה - הודעת שגיאה
- התחברות מוצלחת - כניסה לממשק הניהול

---

## 📋 טאבים בממשק מנהל העיר

### 1️⃣ ניהול ציוד

#### ➕ הוספת ציוד חדש
**שדות חובה:**
- שם הציוד
- כמות התחלתית (ברירת מחדל: 1)

**תהליך:**
1. מילוי פרטי הציוד
2. לחיצה על **"הוסף ציוד"**
3. הציוד מתווסף מיד למערכת

#### ✏️ עריכת ציוד קיים
**אפשרויות עריכה:**
- שינוי שם הציוד
- עדכון כמות (העלאה או הורדה)

**תהליך:**
1. לחיצה על **"ערוך"** ליד הפריט
2. שינוי הפרטים
3. **"שמור"** - לאישור
4. **"ביטול"** - לביטול השינויים

#### 🗑️ מחיקת ציוד
1. לחיצה על **"מחק"**
2. אישור המחיקה
3. **⚠️ אזהרה:** מחיקת ציוד תמחק גם את כל היסטוריית ההשאלות שלו!

#### 📋 רשימת הציוד
לכל פריט מוצג:
- שם הציוד
- כמות נוכחית במלאי
- אינדיקטור צבעוני:
  - **ירוק:** יש במלאי
  - **אדום:** אזל מהמלאי (0)

---

### 2️⃣ היסטוריית השאלות

#### 📊 טבלת היסטוריה מלאה
**עמודות:**
- שם השואל
- טלפון
- שם הציוד
- תאריך השאלה
- תאריך החזרה (אם הוחזר)
- סטטוס:
  - **🟡 מושאל** - טרם הוחזר
  - **🟢 הוחזר** - הוחזר בהצלחה

#### 📥 ייצוא לאקסל
**כפתור "📥 ייצוא לאקסל":**
- יוצר קובץ Excel עם כל ההיסטוריה
- שם הקובץ: `השאלות_[שם העיר]_[תאריך].xlsx`
- כולל את כל הנתונים בפורמט מסודר
- מתאים להדפסה ולארכוב

#### 🖨️ הדפסת דוח
**כפתור "🖨️ הדפס דוח":**
- פותח תצוגת הדפסה
- מסיר אלמנטים לא נחוצים (כפתורים, ניווט)
- מותאם להדפסה על דף A4
- כולל כותרת עם שם העיר

#### 🔍 סינון לפי סטטוס
- **הכל** - כל ההשאלות
- **מושאל** - רק השאלות פעילות
- **הוחזר** - רק השאלות שהוחזרו

---

### 3️⃣ הגדרות עיר

#### 👥 עריכת פרטי מנהלים

**מנהל ראשון (חובה):**
- שם מנהל
- טלפון (10 ספרות, חייב להתחיל ב-05)

**מנהל שני (אופציונלי):**
- שם מנהל
- טלפון (10 ספרות, חייב להתחיל ב-05)
- ניתן להשאיר ריק

**📍 מיקום הארון:**
- הדבקת קישור Google Maps
- ניתן להשאיר ריק

**שמירת שינויים:**
- לחיצה על **"שמור שינויים"**
- המערכת:
  - מעדכנת את הפרטים
  - **שולחת התראה למנהל הראשי** על השינויים
  - מציגה הודעת אישור

#### 🔐 שינוי סיסמת מנהל

**תהליך שינוי סיסמה:**
1. לחיצה על **"שנה סיסמה"**
2. מילוי 3 שדות:
   - סיסמה נוכחית (לאימות)
   - סיסמה חדשה
   - אימות סיסמה חדשה
3. לחיצה על **"✅ שמור סיסמה חדשה"**

**דרישות סיסמה:**
- לפחות 4 תווים
- הסיסמה מוצפנת במערכת (bcrypt)
- לא ניתן לשחזר סיסמה שכוחה

#### 📋 העתקת ציוד מעיר אחרת

**יכולת ייחודית:**
- העתקת רשימת ציוד שלמה מעיר אחרת
- חוסך זמן בהקמת עיר חדשה

**תהליך:**
1. לחיצה על **"העתק ציוד מעיר אחרת"**
2. בחירת עיר מהרשימה
3. המערכת:
   - מעתיקה את כל הציוד מהעיר שנבחרה
   - מתעלמת מפריטים שכבר קיימים
   - משאירה את הכמויות המקוריות
4. הצלחה - הציוד מתווסף לרשימה

---

## 👑 ממשק מנהל ראשי (Super Admin)

### 🔐 כניסה לממשק

**דרכי גישה:**
- לחיצה על 🔐 בפינת דף הבית
- כתובת ישירה: `/super-admin`

**התחברות:**
- סיסמת מנהל על (מוגדרת בהתקנה)
- אבטחה מוגברת

---

## 📑 טאבים במערכת הניהול הראשי

### 1️⃣ ניהול ערים

#### ➕ הוספת עיר חדשה

**שדות חובה:**
- שם העיר
- שם מנהל ראשון
- טלפון מנהל ראשון (10 ספרות)
- סיסמת מנהל

**שדות אופציונליים:**
- שם מנהל שני
- טלפון מנהל שני
- קישור למיקום הארון

**תהליך:**
1. לחיצה על **"➕ הוספת עיר חדשה"**
2. מילוי הפרטים
3. **"הוסף עיר"** - העיר נוצרת והסיסמה מוצפנת אוטומטית

#### ✏️ עריכת עיר קיימת

**מה ניתן לערוך:**
- שם העיר
- פרטי מנהלים (שמות וטלפונים)
- מיקום הארון
- סיסמת המנהל
- סטטוס פעיל/לא פעיל

**תהליך:**
1. לחיצה על **"ערוך"** ליד העיר
2. שינוי הפרטים
3. **"שמור שינויים"**

#### 🔄 שינוי סטטוס עיר

**מתג פעיל/לא פעיל:**
- **🟢 פעיל** - העיר מוצגת בדף הבית
- **🔴 לא פעיל** - העיר מוסתרת (אבל לא נמחקת)

**שימושים:**
- השבתה זמנית של עיר
- העיר ונתוניה נשמרים

#### 🗑️ מחיקת עיר

**תהליך:**
1. לחיצה על **"מחק"**
2. אישור המחיקה

**⚠️ אזהרה חמורה:**
- מחיקה **מוחלטת ובלתי הפיכה**
- נמחקים:
  - כל הציוד של העיר
  - כל היסטוריית ההשאלות
  - כל הנתונים של העיר
- **אין אפשרות שחזור!**

#### 📋 רשימת הערים

**מידע מוצג:**
- שם העיר
- מנהל ראשון + טלפון
- מנהל שני + טלפון (אם קיים)
- סטטוס (פעיל/לא פעיל)
- כפתורי פעולה

---

### 2️⃣ התראות

**מערכת התראות אוטומטית:**

#### 📬 מתי נוצרות התראות?
כאשר מנהל עיר משנה:
- שם מנהל
- טלפון מנהל
- מיקום הארון

#### 🔔 תצוגת ההתראות

**לכל התראה:**
- 🏙️ שם העיר
- 📝 תיאור השינוי
- 🕐 תאריך ושעה
- נקודה כחולה - התראה חדשה (לא נקראה)

**מונה התראות:**
- מספר אדום על טאב ההתראות
- מציג כמות התראות שלא נקראו

#### 📥 ניהול התראות

**פעולות על התראה בודדת:**
- **✓ סמן כנקרא** - מסיר את הנקודה הכחולה
- **🗑️ מחק** - מוחק את ההתראה

**פעולה על כל ההתראות:**
- **✅ סמן הכל כנקרא** - מסמן את כל ההתראות החדשות כנקראות

#### 📭 אם אין התראות
"📭 אין התראות - התראות על שינויים יופיעו כאן"

---

### 3️⃣ הגדרות

#### 🔐 שינוי סיסמת מנהל על

**תהליך:**
1. לחיצה על **"שנה סיסמה"**
2. מילוי:
   - סיסמה נוכחית
   - סיסמה חדשה
   - אימות סיסמה
3. **"✅ שמור סיסמה חדשה"**

**דרישות:**
- לפחות 4 תווים
- הצפנה מלאה
- שומר במסד הנתונים (Supabase)

#### ⚠️ הערות אבטחה
- הסיסמה מוצפנת במסד הנתונים
- אין אפשרות לשחזר סיסמה
- יש לשמור את הסיסמה במקום בטוח

---

## 📱 תכונות נוספות

### 🔄 עדכון אוטומטי
- כל השינויים מתעדכנים בזמן אמת
- אין צורך לרענן את הדף

### 📲 תמיכה במובייל
- העיצוב מותאם לכל הגדלים
- כפתורי ניווט גדולים במובייל
- קלות שימוש במסך מגע

### 🌐 גישה מכל מקום
- המערכת באינטרנט
- ניתן להשתמש מכל מכשיר
- לא נדרשת התקנה

### 🔒 אבטחה מתקדמת
- הצפנת סיסמאות (bcrypt)
- Row Level Security (RLS)
- הפרדה בין משתמשים
- API מאובטח

### 💾 גיבוי אוטומטי
- כל הנתונים בענן (Supabase)
- גיבוי אוטומטי רציף
- אין חשש לאובדן מידע

---

## ❓ שאלות נפוצות (FAQ)

### 🤔 שכחתי את הסיסמה, מה לעשות?
**מנהל עיר:** פנה למנהל הראשי
**מנהל ראשי:** צור קשר עם מנהל המערכת

### 📞 מה זה טלפון בן 10 ספרות?
מספר טלפון ישראלי מלא, לדוגמה: `0501234567`
- חייב להתחיל ב-05
- בדיוק 10 ספרות

### 🔄 איך אני יודע שהציוד הוחזר?
- בטאב "היסטוריה" הסטטוס ישתנה ל-"הוחזר"
- הציוד יחזור למלאי (+1)
- יופיע תאריך החזרה

### 📊 איך מייצאים לאקסל?
1. כניסה לממשק מנהל
2. טאב "היסטוריה"
3. כפתור "📥 ייצוא לאקסל"
4. הקובץ יורד אוטומטית

### 🗺️ איך מוסיפים מיקום בגוגל מפות?
1. פתח Google Maps
2. לחץ ארוך על המיקום
3. העתק את הקישור שנוצר
4. הדבק בשדה "מיקום הארון"

### 👥 אפשר להוסיף יותר מ-2 מנהלים?
כרגע המערכת תומכת עד 2 מנהלים לעיר.

### 📱 המערכת עובדת באפליקציה?
לא, המערכת עובדת בדפדפן (Chrome, Safari, Firefox וכו')

### 🌍 אפשר להשתמש מחו"ל?
כן! המערכת נגישה מכל מקום עם חיבור לאינטרנט.

---

## 📞 תמיכה ועזרה

### 🆘 נתקלת בבעיה?
1. בדוק שיש חיבור לאינטרנט
2. רענן את הדף (F5)
3. נסה דפדפן אחר
4. פנה למנהל המערכת

### 💡 רעיונות לשיפור?
נשמח לשמוע! צור קשר עם מנהל המערכת.

---

## 🎓 סיכום

מערכת ארון ציוד ידידים מספקת פתרון מקיף וקל לשימוש לניהול השאלות ציוד:

✅ **משתמשים רגילים** - השאלה והחזרה פשוטה תוך דקות
✅ **מנהלי ערים** - ניהול מלא של הציוד והיסטוריה
✅ **מנהל ראשי** - שליטה מלאה על כל המערכת
✅ **דיווחים וייצוא** - ניתוח והדפסות בקלות
✅ **בטיחות ואבטחה** - מידע מוגן ומוצפן

---

**🎉 בהצלחה בשימוש במערכת!**

*מדריך זה עודכן לאחרונה: נובמבר 2024*
*גרסת מערכת: 2.0*
